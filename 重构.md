import type { ResourceType } from '../../enum/resource';

export interface ResourceDTO {
  id: string | number;
  code?: string;
  name: string;
  type?: ResourceType | string;
  url?: string;
  path?: string;
  parentId?: string | number | null;
  icon?: string;
  seq?: number;
  children?: ResourceDTO[];
  meta?: Record<string, any>;
}

export default ResourceDTO;
import ResourceDTO from '../dto/system/resource';
import request from './request';
// NOTE: Removed DEV mock fallback (MockDataService) to force using backend API in all environments.
// If you need to restore mock behavior for local development, re-import MockDataService and
// wrap calls with `if (import.meta.env.DEV) { return Promise.resolve({ code:200, success:true, data: MockDataService... }) }`.

/** 资源(菜单)模块相关api */
export default {
  /**
   * 查询所有资源
   * @param data
   * @returns
   */
  query(params?: Record<string, any>) {
    return request.get<ResourceDTO[]>('/menu/query', { params });
  },
  /**
   * 添加资源
   * @param data
   * @returns
   */
  add(data: ResourceDTO) {
    return request.post('/menu/add', data);
  },
  /**
   * 删除资源
   * @param id 资源id
   * @returns
   */
  delete(id: number) {
    return request.delete(`/menu/del?id=${id}`);
  },
  /**
   * 编辑资源
   * @param data 修改的数据对象
   * @returns
   */
  edit(data: ResourceDTO) {
    return request.post('/menu/edit', data);
  },
  /**
   * 上移
   * @param id 资源id
   * @returns
   */
  up(id: number) {
    return request.get(`/menu/up`, { params: { id } });
  },
  /**
   * 下移
   * @param id 资源id
   * @returns
   */
  down(id: number) {
    return request.get(`/menu/down`, { params: { id } });
  },
};   export enum ResourceType {
  /** 菜单，客户端和菜单下使用 */
  CLIENT = 'CLIENT',
  /** 菜单，客户端和菜单下使用 */
  MENU = 'MENU',
  /** 系统页面，客户端和菜单下使用 */
  PAGE = 'SYSTEM_PAGE',
  /** 定制页面，客户端和菜单下使用 */
  CUSTOM_PAGE = 'CUSTOMIZED_PAGE',
  /** 操作，页面和功能区下使用 */
  ACTION = 'ACTION',
}